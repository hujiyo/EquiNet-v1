# 股票形态统计预测方法

## 核心概念

### 1. 状态编码
- **量能维度A**：6级（A1-A6），基于成交量相对值分类
  - A1: <0.3 极度缩量
  - A2: 0.3-0.7 大幅缩量
  - A3: 0.7-1.0 缩量
  - A4: 1.0-1.3 放量
  - A5: 1.3-1.7 大幅放量
  - A6: >1.7 极度放量

- **价格维度B**：6级（B1-B6），基于涨跌幅分类
  - B1: <-8% 跌停
  - B2: -8%至-3% 大幅下跌
  - B3: -3%至0% 下跌
  - B4: 0%至3% 上涨
  - B5: 3%至8% 大幅上涨
  - B6: >8% 涨停

- **组合状态**：每日状态表示为{A_i, B_j}，共36种可能

### 2. 三元向量
某状态后次日的概率分布：[P(涨停), P(上涨), P(下跌)]

### 3. 统计方法
- **一阶统计**：单日状态 → 次日三元向量（36种映射）
- **二阶统计**：连续两日状态 → 次日三元向量（1296种映射）
- **n阶统计**：连续n日状态 → 次日三元向量（36^n种映射）

### 4. 建模方案

#### 4.1 穷举统计法
直接统计历史数据中各状态组合后的次日表现，构建概率查找表

#### 4.2 Token化Transformer方法
- 将36种日状态视为36个token
- 股票K线序列转化为token序列
- 使用Transformer学习状态转移规律
- 预测输出：次日三元向量

### 5. 应用价值
- 不直接预测涨跌，而是识别高风险形态
- 统计结果具有长期稳定性
- 反映市场底层的形态-结果关联规律